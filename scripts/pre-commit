#!/bin/sh
# Pre-commit hook to check TypeScript and ESLint

echo "ğŸ” Running pre-commit checks..."
echo "   - TypeScript compilation"
echo "   - ESLint validation"

# Run the pre-commit script from package.json
if ! npm run pre-commit; then
    echo ""
    echo "âŒ Pre-commit checks failed. Commit aborted."
    echo ""
    echo "ğŸ’¡ To fix issues:"
    echo "   â€¢ Run 'pnpm type-check' to see TypeScript errors"
    echo "   â€¢ Run 'pnpm lint' to see ESLint errors"
    echo "   â€¢ Run 'pnpm lint:fix' to auto-fix ESLint issues"
    echo "   â€¢ Run 'pnpm validate' for a full check including build"
    echo ""
    echo "ğŸš« To skip this check (not recommended): git commit --no-verify"
    exit 1
fi

echo "âœ… All checks passed! Proceeding with commit."
exit 0
